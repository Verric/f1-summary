export const results = [
  {
    race: 1,
    location: "Bahrain",
    date: "2024-03-02",
    drivers: [
      { position: 1, driverId: "max_verstappen", teamId: "red_bull", points: 26 },
      { position: 2, driverId: "sergio_perez", teamId: "red_bull", points: 18 },
      { position: 3, driverId: "carlos_sainz", teamId: "ferrari", points: 15 },
      { position: 4, driverId: "charles_leclerc", teamId: "ferrari", points: 12 },
      { position: 5, driverId: "george_russell", teamId: "mercedes", points: 10 },
      { position: 6, driverId: "lando_norris", teamId: "mclaren", points: 8 },
      { position: 7, driverId: "lewis_hamilton", teamId: "mercedes", points: 6 },
      { position: 8, driverId: "oscar_piastri", teamId: "mclaren", points: 4 },
      { position: 9, driverId: "fernando_alonso", teamId: "aston_martin", points: 2 },
      { position: 10, driverId: "lance_stroll", teamId: "aston_martin", points: 1 },
      { position: 11, driverId: "zhou_guanyu", teamId: "kick_sauber", points: 0 },
      { position: 12, driverId: "kevin_magnussen", teamId: "haas", points: 0 },
      { position: 13, driverId: "daniel_ricciardo", teamId: "rb_honda", points: 0 },
      { position: 14, driverId: "yuki_tsunoda", teamId: "rb_honda", points: 0 },
      { position: 15, driverId: "alexander_albon", teamId: "williams", points: 0 },
      { position: 16, driverId: "nico_hulkenberg", teamId: "haas", points: 0 },
      { position: 17, driverId: "esteban_ocon", teamId: "alpine", points: 0 },
      { position: 18, driverId: "pierre_gasly", teamId: "alpine", points: 0 },
      { position: 19, driverId: "valtteri_bottas", teamId: "kick_sauber", points: 0 },
      { position: 20, driverId: "logan_sargeant", teamId: "williams", points: 0 },
    ],
    constructors: [
      { teamId: "red_bull", points: 44 },
      { teamId: "ferrari", points: 27 },
      { teamId: "mercedes", points: 16 },
      { teamId: "mclaren", points: 12 },
      { teamId: "aston_martin", points: 3 },
      { teamId: "kick_sauber", points: 0 },
      { teamId: "haas", points: 0 },
      { teamId: "rb_honda", points: 0 },
      { teamId: "alpine", points: 0 },
      { teamId: "williams", points: 0 },
    ],
  },
  {
    race: 2,
    location: "Saudi Arabia",
    date: "2024-03-09",
    drivers: [
      { position: 1, driverId: "max_verstappen", teamId: "red_bull", points: 25 },
      { position: 2, driverId: "sergio_perez", teamId: "red_bull", points: 18 },
      { position: 3, driverId: "charles_leclerc", teamId: "ferrari", points: 16 },
      { position: 4, driverId: "oscar_piastri", teamId: "mclaren", points: 12 },
      { position: 5, driverId: "fernando_alonso", teamId: "aston_martin", points: 10 },
      { position: 6, driverId: "george_russell", teamId: "mercedes", points: 8 },
      { position: 7, driverId: "oliver_bearman", teamId: "ferrari", points: 6 },
      { position: 8, driverId: "lando_norris", teamId: "mclaren", points: 4 },
      { position: 9, driverId: "lewis_hamilton", teamId: "mercedes", points: 2 },
      { position: 10, driverId: "nico_hulkenberg", teamId: "haas", points: 1 },
      { position: 11, driverId: "alexander_albon", teamId: "williams", points: 0 },
      { position: 12, driverId: "kevin_magnussen", teamId: "haas", points: 0 },
      { position: 13, driverId: "esteban_ocon", teamId: "alpine", points: 0 },
      { position: 14, driverId: "logan_sargeant", teamId: "williams", points: 0 },
      { position: 15, driverId: "yuki_tsunoda", teamId: "rb_honda", points: 0 },
      { position: 16, driverId: "daniel_ricciardo", teamId: "rb_honda", points: 0 },
      { position: 17, driverId: "valtteri_bottas", teamId: "kick_sauber", points: 0 },
      { position: 18, driverId: "zhou_guanyu", teamId: "kick_sauber", points: 0 },
      { position: 19, driverId: "lance_stroll", teamId: "aston_martin", points: 0, status: "DNF" },
      { position: 20, driverId: "pierre_gasly", teamId: "alpine", points: 0, status: "DNF" },
    ],
    constructors: [
      { teamId: "red_bull", points: 43 },
      { teamId: "ferrari", points: 22 },
      { teamId: "mclaren", points: 16 },
      { teamId: "aston_martin", points: 10 },
      { teamId: "mercedes", points: 10 },
      { teamId: "haas", points: 1 },
      { teamId: "williams", points: 0 },
      { teamId: "rb_honda", points: 0 },
      { teamId: "kick_sauber", points: 0 },
      { teamId: "alpine", points: 0 },
    ],
  },
  {
    race: 3,
    location: "Australia",
    date: "2024-03-24",
    drivers: [
      { position: 1, driverId: "carlos_sainz", teamId: "ferrari", points: 25 },
      { position: 2, driverId: "charles_leclerc", teamId: "ferrari", points: 19 },
      { position: 3, driverId: "lando_norris", teamId: "mclaren", points: 15 },
      { position: 4, driverId: "oscar_piastri", teamId: "mclaren", points: 12 },
      { position: 5, driverId: "sergio_perez", teamId: "red_bull", points: 10 },
      { position: 6, driverId: "lance_stroll", teamId: "aston_martin", points: 8 },
      { position: 7, driverId: "yuki_tsunoda", teamId: "rb_honda", points: 6 },
      { position: 8, driverId: "fernando_alonso", teamId: "aston_martin", points: 4 },
      { position: 9, driverId: "nico_hulkenberg", teamId: "haas", points: 2 },
      { position: 10, driverId: "kevin_magnussen", teamId: "haas", points: 1 },
      { position: 11, driverId: "alexander_albon", teamId: "williams", points: 0 },
      { position: 12, driverId: "daniel_ricciardo", teamId: "rb_honda", points: 0 },
      { position: 13, driverId: "pierre_gasly", teamId: "alpine", points: 0 },
      { position: 14, driverId: "valtteri_bottas", teamId: "kick_sauber", points: 0 },
      { position: 15, driverId: "zhou_guanyu", teamId: "kick_sauber", points: 0 },
      { position: 16, driverId: "esteban_ocon", teamId: "alpine", points: 0 },
      { position: 17, driverId: "george_russell", teamId: "mercedes", points: 0, status: "DNF" },
      { position: 18, driverId: "lewis_hamilton", teamId: "mercedes", points: 0, status: "DNF" },
      { position: 19, driverId: "max_verstappen", teamId: "red_bull", points: 0, status: "DNF" },
    ],
    constructors: [
      { teamId: "ferrari", points: 44 },
      { teamId: "mclaren", points: 27 },
      { teamId: "red_bull", points: 10 },
      { teamId: "aston_martin", points: 12 },
      { teamId: "haas", points: 3 },
      { teamId: "rb_honda", points: 6 },
      { teamId: "williams", points: 0 },
      { teamId: "kick_sauber", points: 0 },
      { teamId: "alpine", points: 0 },
      { teamId: "mercedes", points: 0 },
    ],
  },
]

// Aggregate driver standings up to a specific race
export function getDriverStandings(upToRace: number) {
  const driverStandings = new Map<string, { points: number; teamId: string }>()

  results.slice(0, upToRace).forEach(race => {
    race.drivers.forEach(({ driverId, teamId, points }) => {
      if (!driverStandings.has(driverId)) {
        driverStandings.set(driverId, { points: 0, teamId })
      }
      driverStandings.get(driverId)!.points += points
    })
  })

  return Array.from(driverStandings.entries()).sort((a, b) => b[1].points - a[1].points)
}

export function getConstructorsStandings(upToRace: number) {
  const constructorStandings = new Map<string, { points: number }>()

  results.slice(0, upToRace).forEach(race => {
    race.constructors.forEach(({ teamId, points }) => {
      if (!constructorStandings.has(teamId)) {
        constructorStandings.set(teamId, { points: 0 })
      }
      constructorStandings.get(teamId)!.points += points
    })
  })

  return Array.from(constructorStandings.entries()).sort((a, b) => b[1].points - a[1].points)
}
